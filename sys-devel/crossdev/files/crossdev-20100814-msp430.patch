--- crossdev-20100814/crossdev.orig	2010-08-13 21:38:25.000000000 -0700
+++ crossdev-20100814/crossdev	2010-09-09 14:37:51.051110237 -0700
@@ -168,7 +168,14 @@
 		      LCAT="dev-util"; LPKG="mingw-runtime";;
 
 		msp430)
-		      STAGE_DEFAULT=${STAGE_BINUTILS};;
+		      KPKG="[none]";
+		      BCAT="sys-devel"; BPKG="msp430-binutils";
+		      GCAT="sys-devel"; GPKG="msp430-gcc";
+		      LCAT="dev-embedded"; LPKG="msp430-libc-ti";
+		      DCAT="sys-devel"; DPKG="msp430-gdb";
+		      ICAT="dev-util"; IPKG="msp430-insight";
+		      GUSE="-fortran -openmp" # doesn't work
+		      WITH_DEF_HEADERS="no";;
 
 		nios2*)
 		      BPKG="binutils-nios2";
@@ -361,6 +368,7 @@
 GCAT="sys-devel"  ; GPKG="gcc"           ; GVER="" ; GUSE=""
 KCAT="sys-kernel" ; KPKG="linux-headers" ; KVER="" ; KUSE=""
 LCAT="sys-libs"   ; LPKG=""              ; LVER="" ; LUSE=""
+DCAT="sys-devel"  ; DPKG="gdb"           ; DVER="" ; DUSE=""
 DEFAULT_VER="[latest]"
 # These flags are always disabled for cross-gcc; either usually/always broken, or
 # not tested, or doesn't make sense, or no one simply cares about them
@@ -616,8 +624,8 @@
 set_portage ${GCAT} ${GPKG} ${GVER}
 set_portage ${KCAT} ${KPKG} ${KVER}
 set_portage ${LCAT} ${LPKG} ${LVER}
-set_portage sys-devel gdb
-set_portage dev-util insight
+set_portage ${DCAT} ${DPKG} ${DVER}
+set_portage ${ICAT} ${IPKG} ${IVER}
 
 #######################################
 ### Create links for helper scripts ###
@@ -720,7 +728,7 @@
 
 EOPTS="${EOPTS_UP} --newuse"
 ex_gcc && USE="${GUSE} ${USE}" doemerge ${GPKG} ${GPKG}-extra
-ex_gdb && doemerge gdb
-ex_insight && doemerge insight
+ex_gdb && USE="${DUSE} ${USE}" doemerge ${DPKG}
+ex_insight && doemerge ${IPKG}
 
 exit 0
