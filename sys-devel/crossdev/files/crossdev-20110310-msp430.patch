--- crossdev-20101011/crossdev.orig	2010-10-11 01:52:11.000000000 -0700
+++ crossdev-20101011/crossdev	2010-10-28 13:37:28.182833949 -0700
@@ -173,7 +173,14 @@
 		      LCAT="dev-util"; LPKG="mingw-runtime";;
 
 		msp430)
-		      STAGE_DEFAULT=${STAGE_BINUTILS};;
+		      KCAT="dev-embedded"; KPKG="msp430mcu";
+		      BPKG="msp430-binutils";
+		      GPKG="msp430-gcc";
+		      LCAT="dev-embedded"; LPKG="msp430-libc";
+		      DPKG="msp430-gdb";
+		      IPKG="msp430-insight";
+		      GUSE="-fortran -openmp";
+		      WITH_DEF_HEADERS="no";;
 
 		nios2*)
 		      BPKG="binutils-nios2";
@@ -375,6 +382,8 @@
 GCAT="sys-devel"  ; GPKG="gcc"           ; GVER="" ; GUSE="" ; GENV=""
 KCAT="sys-kernel" ; KPKG="linux-headers" ; KVER="" ; KUSE="" ; KENV=""
 LCAT="sys-libs"   ; LPKG=""              ; LVER="" ; LUSE="" ; LENV=""
+DCAT="sys-devel"  ; DPKG="gdb"           ; DVER="" ; DUSE=""
+ICAT="dev-util"   ; DPKG="insight"       ; IVER="" ; IUSE=""
 DEFAULT_VER="[latest]"
 # These flags are always disabled for cross-gcc; either usually/always broken, or
 # not tested, or doesn't make sense, or no one simply cares about them
@@ -636,8 +645,8 @@
 set_portage ${GCAT} ${GPKG} ${GVER} "${GENV}"
 set_portage ${KCAT} ${KPKG} ${KVER} "${KENV}"
 set_portage ${LCAT} ${LPKG} ${LVER} "${LENV}"
-set_portage sys-devel gdb
-set_portage dev-util insight
+set_portage ${DCAT} ${DPKG} ${DVER}
+set_portage ${ICAT} ${IPKG} ${IVER}
 
 #######################################
 ### Create links for helper scripts ###
@@ -740,7 +749,7 @@
 
 EOPTS="${EOPTS_UP} --newuse"
 ex_gcc && USE="${GUSE} ${USE}" doemerge ${GPKG} ${GPKG}-extra
-ex_gdb && doemerge gdb
-ex_insight && doemerge insight
+ex_gdb && USE="${DUSE} ${USE}" doemerge ${DPKG}
+ex_insight && USE="${IUSE} ${USE}" doemerge ${IPKG}
 
 exit 0
